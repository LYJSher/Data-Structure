# 线性表

### 顺序表

静态分配

~~~c
#define MAXSIZE 50 // 定义线性表的最大长度
typedef struct{
    ElemType data[MAXSIZE]; // 顺序表元素
    int length; // 顺序表当前长度
}SqList; //顺序表的类型定义
~~~

动态分配

~~~c
#define INITSIZE 100 // 表长度的初始定义

typedef struct{
    ElemType *data; // 只是动态分配数组的指针
    int MaxSize, length; // 数组最大容量和当前个数
}SeqList;

// C的初始动态分配
L.data = (ElemType*)malloc(sizeof(ElemType)*INITSIZE);
// C++的初始动态分配
L.data = new ElemType[INITSIZE];
~~~

特点：随机访问

#### 基本操作实现

##### 插入

~~~c++
bool ListInsert(SqList &L, int i, ElemType e){
	if(i<1 || i>L.length+1) // 无效范围, 临界值可插在1位置和length+1位置处
		return false;
	if(L.length >= MAXSIZE) // 存储空间已满
		return false;
	for(int j=L.length; j>=i; j--)
		L.data[j] = L.data[j-1]; // 将第i个元素之后的元素后移
	L.data[i-1] = e; // 在位置i处放入e
	L.length++;
	return true;
}
~~~

##### 删除

~~~c++
bool ListDelete(SqList &L, int i, ElemType &e){
	if(i<1 || i>L.length)
		return false;
	e = L.data[i-1]; // 被删除的元素赋给e
	for(int j=i; j<L.length; j++)
		L.data[j-1] = L.data[j]; // i位置后的元素前移
	L.length--; 
	return true;
}
~~~

##### 顺序查找（按值查找）

~~~
int LocateElem(SqList L, ElemType e){
	int i;
	for(i=0; i<L.length; i++)
		if(L.data[i] == e)
			return i+1; // 下标元素为i的元素等于e，返回i+1
	return 0; // 没找到
}
~~~



C语言能运行版本

~~~c
#include <stdio.h>
#include <stdlib.h>
#define MAXSIZE 50 // 定义线性表的最大长度

typedef int ElemType;

typedef struct{
    ElemType data[MAXSIZE]; // 顺序表元素
    int length; // 顺序表当前长度
}SqList, *SqListptr; //顺序表的类型定义

int ListInsert(SqList *L, int i, ElemType e){
	if(i<1 || i>(*L).length+1) // 无效范围, 临界值可插在1位置和length+1位置处
		return 0;
	if((*L).length >= MAXSIZE) // 存储空间已满
		return 0;
    int j;
	for(j=(*L).length; j>=i; j--)
		(*L).data[j] = (*L).data[j-1]; // 将第i个元素之后的元素后移
	(*L).data[i-1] = e; // 在位置i处放入e
	(*L).length++;
	return 1;
}

int ListDelete(SqList *L, int i, ElemType *e){
	if(i<1 || i>(*L).length)
		return 0;
	e = (*L).data[i-1]; // 被删除的元素赋给e
	int j;
	for(j=i; j<(*L).length; j++)
		(*L).data[j-1] = (*L).data[j]; // i位置后的元素前移
	(*L).length--;
	return 1;
}

int LocateElem(SqList L, ElemType e){
	int i;
	for(i=0; i<L.length; i++)
		if(L.data[i] == e)
			return i+1; // 下标元素为i的元素等于e，返回i+1
	return 0; // 没找到
}

main(){
    SqList List;
    List.data[0] = 2;
    List.length = 1;
    SqListptr L = &List;
    int i;
    ElemType *e = (ElemType*)malloc(sizeof(ElemType));
    if(ListInsert(L, 1, 1))
        for(i=0; i<L->length; i++)
            printf("%d\n", L->data[i]);
    printf("loc:%d\n", LocateElem(*L, *e));
    printf("d:%d\n", ListDelete(L, 1, e));
    for(i=0; i<L->length; i++)
            printf("%d\n", L->data[i]);
}
~~~

